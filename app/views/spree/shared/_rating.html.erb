<% stars = product.stars %>
<% reviews_count = product.reviews_count %>
<div class="ratings">
  <span><%= Spree.t(:average_customer_rating) %>: <%= txt_stars(stars) %></span>
  <span class="ratings-stars result">
    <span title="<%= txt_stars(stars) %>">
      <%= render 'spree/reviews/stars', stars: stars %>
    </span>
  </span>
  <div class="ratings-basedupon">(<%= Spree.t(:based_upon_review_count, count: reviews_count) %>)</div>
  <div itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating">
    <span itemprop="ratingValue" content="<%= stars %>"></span>
    <span itemprop="reviewCount" content="<%= reviews_count %>"></span>
  </div>
</div>